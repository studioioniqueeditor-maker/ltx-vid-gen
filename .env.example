# ===========================================
# LTX Video I2V - Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to git

# ====================
# API Configuration
# ====================
# Comma-separated list of valid API keys (generate strong random keys)
API_KEYS=your-api-key-1,your-api-key-2,your-api-key-3

# Comma-separated list of allowed CORS origins
ALLOWED_ORIGINS=https://your-oracle-app.com,https://your-domain.com

# ===============================
# Oracle Cloud Object Storage
# ===============================
# Get these from Oracle Cloud Console → Identity → Users → API Keys
OCI_NAMESPACE=your_oci_namespace
OCI_BUCKET_NAME=ltx-video-outputs
OCI_REGION=us-ashburn-1

# Oracle Cloud user OCID
OCI_USER_OCID=ocid1.user.oc1..aaaaaaaaxxxxxxxxxxxxxxxx

# API key fingerprint
OCI_FINGERPRINT=aa:bb:cc:dd:ee:ff:00:11:22:33:44:55:66:77:88:99

# Tenancy OCID
OCI_TENANCY_OCID=ocid1.tenancy.oc1..aaaaaaaaxxxxxxxxxxxxxxxx

# Private key (paste full content including BEGIN/END lines, or use file path)
OCI_PRIVATE_KEY=REMOVED
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC...
REMOVED

# ====================
# Oracle Database
# ====================
# Database connection details
ORACLE_DB_USER=your_db_username
ORACLE_DB_PASSWORD=your_db_password

# Connection string format: (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=xxx)(PORT=1522))(CONNECT_DATA=(SERVICE_NAME=xxx)))
ORACLE_DB_DSN=your_connection_string

# ====================
# Webhook Configuration
# ====================
# Secret for HMAC signature generation (use strong random string)
WEBHOOK_SECRET=your-webhook-secret-change-me-to-random-string

# Webhook request timeout in seconds
WEBHOOK_TIMEOUT=30

# Maximum retry attempts for webhook delivery
WEBHOOK_MAX_RETRIES=3

# ====================
# File Upload Limits
# ====================
# Maximum file upload size in MB
MAX_FILE_SIZE_MB=10

# Allowed image MIME types (comma-separated)
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp

# ====================
# Rate Limiting
# ====================
# Requests per minute per API key
RATE_LIMIT_PER_MINUTE=10

# ====================
# Model Configuration
# ====================
# Path to model weights (inside Docker container)
MODEL_PATH=/workspace/models/ltxv-13b-distilled

# Output directory for generated videos
OUTPUT_DIR=/tmp/outputs

# Upload directory for user-uploaded images
UPLOAD_DIR=/tmp/uploads

# ====================
# Video Generation Defaults
# ====================
DEFAULT_WIDTH=1280
DEFAULT_HEIGHT=720
DEFAULT_NUM_FRAMES=121
DEFAULT_NUM_STEPS=8
DEFAULT_FPS=24

# ====================
# Limits (Security)
# ====================
MAX_WIDTH=1920
MAX_HEIGHT=1080
MAX_FRAMES=257
MAX_STEPS=50

# ====================
# Optional: Monitoring
# ====================
# Set to 'true' to enable Prometheus metrics endpoint
# ENABLE_METRICS=false

# ====================
# Optional: Logging
# ====================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# LOG_LEVEL=INFO

# ====================
# Notes
# ====================
# 1. Generate strong random API keys:
#    python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# 2. Generate webhook secret:
#    python -c "import secrets; print(secrets.token_hex(32))"
#
# 3. Oracle Cloud setup:
#    - Create Object Storage bucket: ltx-video-outputs
#    - Set lifecycle policy: Delete after 30 days
#    - Generate API keys in Identity > Users
#    - Set up database with schema (see schema.sql)
#
# 4. For RunPod deployment:
#    - Set these as environment variables in RunPod Console
#    - Use RunPod's secret manager for sensitive values
#    - Never commit .env file to git
